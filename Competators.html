<!DOCTYPE HTML>
<html>
<head>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
<style type="text/css">
	#sidebox{
		height:600px;
		width:30px;
		background-color:#000;
		color:#fff;
		padding-left:8px;
		padding-top:5px;
	}
	#chartContainer{
		margin-left:-100px;
		margin-top:20px;
	}
	.line{
		background-color:#fff;
		height:3px;
		margin-top:8px;
	}
	select{
		background-color:grey;
		color:#fff;
	}
	.table{
		margin-left:-70px;
		margin-top:10px;
		width:100%;
	}
	#show
	{
	margin-left:-70px;
	width:100%;
	}
	
	td{
    text-align: left;
    padding:5px;
	}
	
	#red{
		color:red;
	}
	.h-line{
		height:20px;
		background-color:#000;
		color:#fff;
		margin-left:-70px;
	}
	
</style>
<script>
window.onload = function () {
 var xmlhttp = new XMLHttpRequest();
var url = "http://api.jsonbin.io/b/5b893b00db948c68635a04eb";
key=[];
var options;

xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var myArr = JSON.parse(this.responseText);
	    key[0] = myArr["keyword 1"]["points"];
		key[1] = myArr["keyword 2"]["points"];
		key[2] = myArr["keyword 3"]["points"];
		key[3] = myArr["keyword 4"]["points"];
	    key[4] = myArr["keyword 5"]["points"];
     j=0;
		 console.log(key[j][0]);
		 console.log(key[j][1]);
		 console.log(key[j][2]);
		 console.log(key[j][3]);
		 console.log(key[j][4]);
		 console.log(key[j][5]);
//Better to construct options first and then pass it as a parameter
options = {
	
	axisX:{      
            valueFormatString: "YYYY-MM-DD" ,
			labelFontColor: "#FFFFFF",
           },
    axisY:
	{
	    labelFontColor: "#FFFFFF",
	},
		   legend: { fontColor:"#FFFFFF"
      
     },
		   backgroundColor: "#050404",
	animationEnabled: true,
	exportEnabled: true,
	data: [
	{
		type: "spline", //change it to line, area, column, pie, etc
		name: "keyword 1",
		showInLegend: true,
		
		dataPoints: [
			{ x: new Date(2018, 07, 24), y: key[0][0]},
			{x: new Date(2018, 07, 25), y: key[0][1]},
			{x: new Date(2018, 07, 26), y: key[0][2]},
			{x: new Date(2018, 07, 27), y: key[0][3]},
			{ x: new Date(2018, 07, 28), y: key[0][4]},
			{x: new Date(2018, 07, 29), y: key[0][5]},
			{ x: new Date(2018, 07, 30), y: key[0][6]}
		]	
	},
	{
		type: "spline", //change it to line, area, column, pie, etc
		name: "keyword 2",
		showInLegend: true,
		dataPoints: [
			{ x: new Date(2018, 07, 24), y: key[1][0]},
			{x: new Date(2018, 07, 25), y: key[1][1]},
			{x: new Date(2018, 07, 26), y: key[1][2]},
			{x: new Date(2018, 07, 27), y: key[1][3]},
			{ x: new Date(2018, 07, 28), y: key[1][4]},
			{x: new Date(2018, 07, 29), y: key[1][5]},
			{ x: new Date(2018, 07, 30), y: key[1][6]}
		]	
	},
	{
		type: "spline", //change it to line, area, column, pie, etc
		name: "keyword 3",
		showInLegend: true,
		dataPoints: [
			{ x: new Date(2018, 07, 24), y: key[2][0]},
			{x: new Date(2018, 07, 25), y: key[2][1]},
			{x: new Date(2018, 07, 26), y: key[2][2]},
			{x: new Date(2018, 07, 27), y: key[2][3]},
			{ x: new Date(2018, 07, 28), y: key[2][4]},
			{x: new Date(2018, 07, 29), y: key[2][5]},
			{ x: new Date(2018, 07, 30), y: key[2][6]}
		]	
	},
	{
		type: "spline", //change it to line, area, column, pie, etc
		name: "keyword 4",
		showInLegend: true,
		dataPoints: [
			{ x: new Date(2018, 07, 24), y: key[3][0]},
			{x: new Date(2018, 07, 25), y: key[3][1]},
			{x: new Date(2018, 07, 26), y: key[3][2]},
			{x: new Date(2018, 07, 27), y: key[3][3]},
			{ x: new Date(2018, 07, 28), y: key[3][4]},
			{x: new Date(2018, 07, 29), y: key[3][5]},
			{ x: new Date(2018, 07, 30), y: key[3][6]}
		]	
	},
	{
		type: "spline", //change it to line, area, column, pie, etc
		name: "keyword 5",
		showInLegend: true,
		dataPoints: [
			{ x: new Date(2018, 07, 24), y: key[4][0]},
			{x: new Date(2018, 07, 25), y: key[4][1]},
			{x: new Date(2018, 07, 26), y: key[4][2]},
			{x: new Date(2018, 07, 27), y: key[4][3]},
			{ x: new Date(2018, 07, 28), y: key[4][4]},
			{x: new Date(2018, 07, 29), y: key[4][5]},
			{ x: new Date(2018, 07, 30), y: key[4][6]}
		]	
	}
	
	
	]
};

$("#chartContainer").CanvasJSChart(options);
//alert("hello");

}
  
};
xmlhttp.open("GET",url, true);
xmlhttp.send();


}
</script>
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> 
</head>
<body style="background-color:#2f2f30; color:#fff">
<div class="container-fluid">
	<div class="row">
		<div class="col-md-10 col-md-offset-2">
		<table>
		<td><tr><h6><button>Keyword Ranks</button>  Competators</h6></tr>
		</table>
			 <div class="line">
			 	
			 </div>
		</div>
	</div><br>
	<div class="row">
		<div class="col-md-1 col-md-offset-3">
			<select>
				<option>oneweek</option>
				<option>twoweeks</option>
			</select>
		</div>
			<div class="col-md-2 col-md-offset-2">
			<select>
				<option>allkeywords</option>
				<option>keywords</option>
			</select>
		</div>
			<div class="col-md-3 col-md-offset-1">
			<select>
				<option>lastposition</option>
				<option>position</option>
			</select>
		</div>
	</div>
	<div class="row">
		<div class="col-md-2 col-md-offset-2">
			<div id="sidebox">
				 <i class="fas fa-signal"></i><br><br>
				 <i class="fas fa-search"></i><br><br>
				 <i class="fas fa-sticky-note"></i><br><br>
				 <i class="fas fa-user"></i><br>
			</div>
		</div>
		<div class="col-md-8">
			
			<div id="chartContainer" style="height: 300px; width: 100%; background-color:black"></div><br>
					<div class="col-md-2">
			</div>
		<br><br>
		<div class="h-line">
			<p>Ranks</p>
		</div>
		<div class="h"><table id="show"><tr><td>show<select><option value='25'>25</option></select>
		&nbsp entries</td><td>search<input type='search'></td></tr></table></div>
		<table class="table" id="compete">
	<tbody>
	<tr><td></td></tr>
	</tbody>
	</table>
		</div>
	</div>
</div>
<script>
//call here
  myTableGenerator();
  //myFunction();
 
 //define here
function myTableGenerator(){
var xmlhttp = new XMLHttpRequest();
var url = "http://api.jsonbin.io/b/5b893aa03ffac56f4bd7905a";

xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var myArr = JSON.parse(this.responseText);
        var out=" ";
		console.log(myArr.data.length);
        var i;
		out+='<thead>';
		out+='<tr>';
		out+='<th>';
		out+='Keyword';
		out+='</th>';
		out+='<th>';
		out+='Position';
		out+='</th>';
		out+='<th>';
		out+='Keyword';
		out+='</th>';
		out+='</tr>';
		out+='</thead>';
        for(i=0;i<myArr.data.length;i++)
        {
        out+='<tr>';
        out+='<td>'+myArr.data[i].keyword+'&nbsp'+'</td>';
        out+='<td>'+myArr.data[i].position+'&nbsp'+'</td>';
        out+='<td id="red">'+myArr.data[i].change+'</td>';
        out+='</tr>';
         document.getElementById("compete").innerHTML = out;
        }
       }
};
xmlhttp.open("GET",url, true);
xmlhttp.send();
}
</script>
<script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
<script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>
</body>
</html>
